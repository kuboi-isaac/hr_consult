<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Leave Management Report</title>
    <style>
      /* Add your CSS styles for the report here */
      body {
        font-family: Cambria, Cochin, Georgia, Times, "Times New Roman", serif;
      }
      h1 {
        text-align: center;
      }
      table {
        border-collapse: collapse;
        width: 100%; /* Make the table width 100% of its container */
        margin-left: auto;
        margin-right: auto; /* Center the table horizontally on the page */
        padding-left: 10px; /* Add space to the left of the table content */
      }

      table,
      th,
      td {
        border: 1px solid #ddd;
      }
      th,
      td {
        padding: 10px;
        text-align: left;
      }
      th {
        background-color: #316abb;
        color: #fff;
      }
      tr:nth-child(even) {
        background-color: #e2e2e2;
      }
      .actions {
        text-align: center;
        margin-top: 20px;
      }
      .edit-button,
      .view-button,
      .export-button {
        padding: 5px 10px;
        background-color: #316abb;
        color: #fff;
        border: none;
        border-radius: 5px;
        margin-right: 10px;
        text-decoration: none;
      }
      .edit-button:hover,
      .view-button:hover,
      .export-button:hover {
        background-color: #316abb;
      }

      /* Media query for responsive design */
      @media (max-width: 768px) {
        table {
          font-size: 14px;
        }
        th,
        td {
          padding: 8px;
        }
        .actions {
          text-align: left;
          margin-top: 10px;
        }
        .edit-button,
        .view-button,
        .export-button {
          margin-right: 5px;
        }
      }

      .filter-container {
        display: flex;
        justify-content: flex-end;
        margin-bottom: 10px; /* Add some spacing between the filter and the table */
      }

      /* Adjust label's style if needed */
      label {
        margin-right: 10px; /* Add some spacing between the label and the select */
        font-family: Cambria, Cochin, Georgia, Times, "Times New Roman", serif;
      }

      form {
        margin-top: 20px;
        position: fixed;
        justify-content: flex-end;
        margin: 0 10px;
        margin-bottom: 10px;
      }

      label,
      select,
      button {
        margin: 0px 1px;
      }

      #leave-filter {
        padding: 5px 5px;
        font-size: 14px;
        border: 1px solid #ccc;
        border-radius: 4px;
        background-color: #fff;
        color: #333;
        cursor: pointer;
      }

      /* Style for the select options */
      #leave-filter option {
        background-color: #fff;
        color: #333;
      }

      /* Optional CSS for button styling */
      button {
        padding: 5px 10px;
        background-color: #316abb;
        border-radius: 5px;
        color: #fff;
        font-weight: bold;
        margin-bottom: 20px;
        margin-left: 1px;
        border: none;
        cursor: pointer;
      }

      /* Style for the dropdown menu */
      .dropdown-content {
        display: none;
        color: #fff;
        position: absolute;
        background-color: #e9e9e9;
        min-width: 100px;
        box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
      }

      /* Style for dropdown options */
      .dropdown-content a {
        padding: 12px 16px;
        text-decoration: none;
        font-weight: bold;
        font-family: Cambria, Cochin, Georgia, Times, "Times New Roman", serif;
        display: block;
        cursor: pointer;
      }

      /* Hover effect for dropdown options */
      .dropdown-content a:hover {
        background-color: #cfcfcf;
      }
    </style>
  </head>
  <body>
    <h1>Leave Management Report</h1>
    <!-- export format option label -->
    <form id="exportForm">
      <label for="formatSelect">Export format:</label>
      <select id="formatSelect">
        <option value="pdf">PDF</option>
        <option value="csv">CSV</option>
        <option value="xlsx">XLSX</option>
      </select>
      <button type="submit" id="exportButton">Export</button>
    </form>

    <!-- filter employee leave by leave options -->
    <div class="filter-container">
      <label for="leave-filter">Leave Type:</label>
      <select id="leave-filter">
        <option value="all">All</option>
        <option value="Vacation">Vacation</option>
        <option value="Sick Leave">Sick Leave</option>
        <option value="Maternity Leave">Maternity Leave</option>
      </select>
    </div>

    <button id="printButton">Print Options</button>
    <div id="printOptions" class="dropdown-content">
      <a href="#" id="printPDF">Print as PDF</a>
      <a href="#" id="printDoc">Print as Doc</a>
      <a href="#" id="printCSV">Print as CSV</a>

      <!-- Add more format options as needed -->
    </div>

    <table>
      <!-- Your table content here -->
    </table>
    <table>
      <thead>
        <tr>
          <th>Employee Name</th>
          <th>Employee ID</th>
          <th>Leave Type</th>
          <th>Start Date</th>
          <th>End Date</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>John Doe</td>
          <td>EMP001</td>
          <td>Vacation</td>
          <td>2023-09-10</td>
          <td>2023-09-15</td>
          <td>Approved</td>
          <td>
            <a href="#" class="edit-button">Edit</a>
            <a href="#" class="view-button">View</a>
          </td>
        </tr>
        <tr>
          <td>Jane Smith</td>
          <td>EMP002</td>
          <td>Sick Leave</td>
          <td>2023-09-05</td>
          <td>2023-09-08</td>
          <td>Pending</td>
          <td>
            <a href="#" class="edit-button">Edit</a>
            <a href="#" class="view-button">View</a>
          </td>
        </tr>
        <tr>
          <td>Michael Johnson</td>
          <td>EMP003</td>
          <td>Maternity Leave</td>
          <td>2023-09-20</td>
          <td>2023-09-25</td>
          <td>Approved</td>
          <td>
            <a href="#" class="edit-button">Edit</a>
            <a href="#" class="view-button">View</a>
          </td>
        </tr>
        <!-- Add more rows for additional leave records -->
      </tbody>
    </table>

    <!-- <td>
      <a href="#" class="edit-button">Edit</a>
      <a href="#" class="view-button">View</a>
    </td> -->

    <script>
      // Function to handle the "Edit" button click
      document.querySelectorAll(".edit-button").forEach(function (button) {
        button.addEventListener("click", function (event) {
          event.preventDefault();

          // Replace 'edit_employee.html' with the actual URL of your edit page
          const editPopup = window.open(
            "edit_employee.html",
            "Edit Employee",
            "width=600,height=600"
          );

          // Optionally, you can focus the pop-up window
          editPopup.focus();
        });
      });

      // Function to handle the "View" button click
      document.querySelectorAll(".view-button").forEach(function (button) {
        button.addEventListener("click", function (event) {
          event.preventDefault();

          // Replace 'view_employee.html' with the actual URL of your view page
          const viewPopup = window.open(
            "view_employee.html",
            "View Employee",
            "width=600,height=600"
          );

          // Optionally, you can focus the pop-up window
          viewPopup.focus();
        });
      });

      document
        .getElementById("exportForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();

          var formatSelect = document.getElementById("formatSelect");
          var selectedFormat =
            formatSelect.options[formatSelect.selectedIndex].value;

          var label = document.createElement("h2");
          label.textContent =
            "Exporting report in " +
            selectedFormat.toUpperCase() +
            " format...";
          document.body.appendChild(label);

          // Simulating export process (replace with actual export code)
          setTimeout(function () {
            label.textContent = "Report exported successfully!";
          }, 2000); // 2 seconds delay for simulation purposes
        });
    </script>

    <script>
      // Get the select element and table body
      const leaveFilter = document.getElementById("leave-filter");
      const tableBody = document.querySelector("tbody");

      // Add an event listener to the select element
      leaveFilter.addEventListener("change", function () {
        const selectedLeaveType = leaveFilter.value;

        // Loop through each table row and hide/show based on the selected option
        const rows = tableBody.querySelectorAll("tr");
        rows.forEach((row) => {
          const leaveType = row.getAttribute("data-leave-type");

          if (selectedLeaveType === "all" || selectedLeaveType === leaveType) {
            row.style.display = "table-row";
          } else {
            row.style.display = "none";
          }
        });
      });
    </script>

    <script>
      // JavaScript to handle button click and format selection
      document
        .getElementById("printButton")
        .addEventListener("click", function (event) {
          document.getElementById("printOptions").style.display = "block";
          event.stopPropagation(); // Prevent the click event from propagating to the document body
        });

      document
        .getElementById("printPDF")
        .addEventListener("click", function () {
          // Replace this with your logic to print as PDF
          alert("Printing as PDF");
          // You can use libraries like jsPDF for PDF generation
        });

      document
        .getElementById("printDoc")
        .addEventListener("click", function () {
          // Replace this with your logic to print as Doc
          alert("Printing as Doc");
          // You can use window.print() to print the Doc content
        });

      document
        .getElementById("printCSV")
        .addEventListener("click", function () {
          // Replace this with your logic to print as CSV
          alert("Printing as CSV");
          // You can use window.print() to print the CSV content
        });

      // Add a click event listener to the document body to hide the dropdown when clicking outside
      document.body.addEventListener("click", function () {
        document.getElementById("printOptions").style.display = "none";
      });

      // Prevent the click event on the dropdown from propagating to the document body
      document
        .getElementById("printOptions")
        .addEventListener("click", function (event) {
          event.stopPropagation();
        });
    </script>
  </body>
</html>
